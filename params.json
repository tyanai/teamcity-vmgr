{"name":"Teamcity-vmgr","tagline":"Adds an ability to launch a session or call Cadence vManager vAPI REST API dynamically as a step in your build.","body":"##**Cadence vManager Build Runner Plugin for TeamCity**\r\n\r\nThis plugin adds an ability to perform REST over HTTP calls to Cadence vManager as a step in your build.\r\n\r\n###**Why this plugin ?**\r\nCadence vManager (starting version 14.1 and above) is now exposing a REST API (vAPI) for performing automation queries and updates for its regression/test and coverage data.  This plugin enables you to add a remote execution for extracting runs information, reports data or even launching new sessions as part of your build process.\r\n\r\n### **Features**\r\n1. Free-style job plugin (can perform all vManager API call).\r\n1. Support static/dynamic API calls\r\n1. Support dynamic authentication per user id.\r\n1. Special build step for performing launch of vsif files dynamically.\r\n\r\n### **Limitations**\r\nThe plugin support for remote launching of vsif will be supported for Incisive 14.1 S5 and above.\r\n\r\n### **Configuration**\r\nAfter installing the plugin you'll get two new steps in the build step selection.\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/newStep.png)\r\n* Choose \"vManager API\" if you need a free-style vAPI call to sends dynamic json input and receive a json output.\r\n* Choose \"vManager Session Launcher\" if you need to add a step for remote launching vsif (one or more).\r\n\r\n### **Usage**\r\n**vManager API**\r\n\r\nThe step takes care for the following:\r\n\r\n1. Authentication.\r\n2. Defining the API call.\r\n3. Defining the json input string for the API (static/dynamic).\r\n4. Saving the API result (json format) into the workspace. \r\nThe below is an example of defining a static vAPI call for getting a list of runs:\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/staticApi.png)\r\n\r\nThe below is an example of defining a dynamic vAPI call:\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/dynamicApi.png)\r\n\r\nIn case of a need in dynamically change the jSON input for the API per step, the pre-step should create a file with the relevant jSON string to be sent to the vAPI.\r\nThe input file can be placed anywhere within the agent accessible path . In case this field is empty, The file name need to be: ﻿﻿﻿$CHECKOUT_DIR/$BUILD_ID/vapi.input\r\n\r\nPlease fill this field only in case, you want to hard code the input file name, to be consist across all builds.\r\n\r\n\r\n**vManager Session Launcher**\r\n\r\nThe step takes care for the following:\r\n\r\n1. Authentication.\r\n2. Launching a vsif that is located on the NFS and is available to vManager Server.\r\n\r\nThe below is an example of defining a static vsif call:\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/staticVsif.png)\r\n\r\nThe below is an example of defining a dynamic launch call with  multiple vsif files:\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/dynamicVsif.png)\r\n\r\nIn case of a need in dynamically selecting the vsif files to get launched per step, the pre-step should create a file with the relevant data. The input file can be placed anywhere within the agent accessible path. The data insist for various lines with the full paths of the relevant vsif files to be launched, new line for each additional vsif file.\r\n\r\nIn case this field is empty, The file name need to be: $CHECKING_DIR/$BUILD_ID/vsif.input\r\nPlease fill this field only in case, you want to hard code the input file name, to be consist across all builds.\r\n\r\n**Authentication**\r\n\r\n![](https://github.com/tyanai/teamcity-vmgr/blob/master/images/authentication.png)\r\n\r\nIn case of a need in dynamically selecting the user name per step, the pre-step should place into the workspace directory a file with single line that contains the userid to be used.\r\nThe file name should be: $CHECKING_DIR/$BUILD_ID/user.input\r\nThe job will pick the userid which is in the file, and connect to vAPI using this userid and the vAPI secret key.\r\n\r\nYou can download the plugin from [here](https://github.com/tyanai/teamcity-vmgr/blob/master/plugin/vmgr-runner.zip?raw=true).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}